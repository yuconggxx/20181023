<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
<script>
    /*
        var a = ...

        fn = function(){}

        a = 12


    */
    // console.log(a);  //undefined
    // var a=12; 
    // function fn(){
    //     //var a = ...
    //     console.log(a); // undefined
    //     var a=13;   //a = 13
    // }
    // fn();   
    // console.log(a);  //12  



    /*******************2*****************/

    /*
        a = ...
        fn = {}

        a = 12

        a = 13
    */

    // console.log(a); //undefined
    // var a=12;
    // function fn(){
    //     console.log(a); //12
    //     a=13;
    // }
    // fn();
    // console.log(a); //13


    /**************3*************/


    // console.log(a); //报错
    // a=12;
    // function fn(){
    //     console.log(a);
    //     a=13;   
    // }
    // fn();
    // console.log(a);

/******************4*********************/

    // var foo=1; 
    // function bar(){
    //     //var foo = ...
    //     if(!foo){
    //         var foo=10; 
    //     }
    //     console.log(foo); //10
    // }
    // bar();

/******************5*********************/

    /*
        var n = ..
        a = fn
        var c = ...


        n = 0

        c = 函数b

    */
    // var n=0; 
    // function a(){
    //     var n=10;  //11
    //     function b(){
    //         n++; 
    //         console.log(n); //11  12
    //     }
    //     b();
    //     return b; 
    // }
    // var c=a();
    // c(); 
    // console.log(n);//0



/******************6*********************/

    // var a=10,b=11,c=12;
    // function test(a){
    //     a=1;
    //     var b=2;
    //     c=3;
    // }
    // test(10);
    // console.log(a); //10 
    // console.log(b);  // 11
    // console.log(c);//3

/******************7*********************/

    // if(!("a" in window)){
    //     var a=1;
    // }
    // console.log(a);//undefined


/******************8*********************/

    // var a=4;
    // function b(x,y,a) {    
    //     console.log(a); //3
    //     arguments[2]=10;        
    //     console.log(a); //10
    // }
    // a=b(1,2,3);   
    // console.log(a);  //undefined


/******************9*********************/

    // var foo='hello'; 

    // (function(foo){
    //     console.log(foo); //hello
    //     var foo=foo||'world';
    //     console.log(foo);//hello
    // })(foo);

    // console.log(foo);//hello

/******************10*********************/

//  var a=9; 
//  function fn(){ 
//      a=0;       
//      return function(b){ 
//          return b + a++; 
//      }    
//  }
//  
//  var f=fn();//a = 0
//
//  console.log(f(5)); //5 + 0 ++   5  a = 1
//
//  console.log(fn()(5)); //a = 0  5+0++ 5  a = 1
//
//  console.log(f(5)); //5+1 ++  6  a=2
//
//  console.log(a); //2

/******************第二题*********************/

//let a = 0;
//console.log(++a == a++); //true
//console.log(a++ == ++a); //0 == 2
//console.log(a++ == a++); //0 == 1 false
//console.log(a);


//	var ary=[1,2,3,4];
//	
//	function fn(ary){
//	    ary[0]=0;    //[0,2,3,4]
//	    ary = [0];    //[0]
//	    ary[0]=100;    
//	    return ary; //[100]
//	}
//	var res = fn(ary);   //[100]
//	
//	console.log(ary);   //[0,2,3,4] 
//	console.log(res); //[100]

//var k = 1;
/*
	
	k = 3
	
	5 +  2 + 2 + 4 + 3 + 3 + 3 + 2 + 2  ,k=3
	
	
*/
//console.log(5 + (++k) + (k++) + 4 + (k--) + (++k) + 3 + (--k) + (k++), k); //26,3

//	function fn(i) {
//	    return function (n) {
//	        console.log(n + (i++));
//	    }
//	}
//	var f = fn(10);//i=10
//	
//	f(20);//n=20 + 10  30   i=11
//	
//	fn(20)(40); //20+40  60    此处就是一般的函数执行，执行完父级的变量和参数销毁，不会保存
//	
//	fn(30)(50); //30+50   80
//	
//	f(30);//30+11    i=12    41
//	
//	f(20);//20+12   32   i=13


/***********************3**************************/

//	var i = 10;
//	function fn() {
//	    return function (n) {
//	        console.log(n + (++i));
//	    }
//	}
//	var f = fn();
//	
//	f(20);//20+11     31   i=11
//	
//	fn()(20);//20+12  32   i=12
//	
//	fn()(30); //30+13 43   i=13
//	
//	f(30); //30+14  44    i=14
//	console.log(i);


/***********************4**************************/

	var num = 10;
	var obj = {num: 20};
	/*
		obj = {
			num:20,
			fn:function (n) {
		        this.num += n;  
		        num++;
		        console.log(num);
		    }
		}
		fn = function (n) {
	        this.num += n;
	        num++;
	        console.log(num);
	    }
	*/
	obj.fn = (function (num) { //num=20
		
		//window.num = 60
	    this.num = num * 3;
	    
	    num++;
	    //num=21
	    return function (n) {
	        this.num += n;
	        num++;
	        console.log(num); //22  23
	    }
	})(obj.num); //匿名函数自执行的this就是window

	
	var fn = obj.fn;
	
	fn(5);//60 += 5  65 window.num = 65    num=22
	
	obj.fn(10); //20 += 10    obj.num = 30
	
	console.log(num, obj.num); //65  30
	
























</script>
</body>
</html>