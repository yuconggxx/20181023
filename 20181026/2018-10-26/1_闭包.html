<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
<script>
    /*
        闭包(必问):Closure
            很多人都不理解，因为一个一个叫法

            1.一个函数就是一个闭包
            2.闭包就是让内部函数可以访问外部函数的参数或者变量，这个值是不会被浏览器垃圾回收机制回收
            
        js有个特性，函数开了一个新空间，里面的变量、私有属性都不会被外界干扰.（封闭空间）


        (function(){

        })()

        从大多数人理解的角度上来说，第二种更合适。

            闭包:
                函数套函数，子函数使用父函数的参数或者变量(作用域链，先看函数体内有没有这个变量或者函数，没有就找参数，还没有就到外面找，直到window结束)并且子函数被外界所引用（没释放）
                这个时候，父函数的参数或者变量不会被垃圾回收机制回收，此时在浏览器（chrome）
                中打印父级的返回值，在scopes下多了一个closure,closure就叫闭包。
            
            

        函数执行:
            开了一个空间（新的作用域）
            参数赋值
            预解析（变量提升）
            从上到下执行上下文
            局部作用域销毁

        当直接调用完函数，函数就自动被回收了（包括函数内的参数、变量）

        应用场景:
            1.私有变量不被外界所干扰
            2.存储父函数的参数或者变量

    
        


    */
    // var a = 12;
    // function fn(){
    //     var a = 20;
    // }

    
    function fn(){
        var a = 10;
        function fn2(){
            a ++;
            console.log(a);
        }
        return fn2;
    }

    let f = fn();
    // console.dir(f);  //Scopes   Closure
    f();
    f();


    // function fn2(){
    //     var a = 10;
    //     console.log(a);
    // }

    // fn2();
    // fn2();

   


    // (function (){
    //     console.log(1);
    // })()

    


</script>
</body>
</html>